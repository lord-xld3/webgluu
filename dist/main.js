(()=>{"use strict";(()=>{var t,n;function e(n,e){var r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Failed to compile shader: ".concat(t.getShaderInfoLog(r)));return r}var r,o,i=function(){function n(n,e){this.vao=t.createVertexArray(),this.bind(),n.forEach((function(t){t.bind()})),null==e||e.bind(),this.unbind(),null==e||e.unbind()}return n.prototype.bind=function(){t.bindVertexArray(this.vao)},n.prototype.unbind=function(){t.bindVertexArray(null)},n}(),a=(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),c=function(){return c=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},c.apply(this,arguments)},u=function(){function n(n,e){if(void 0===e&&(e=t.STATIC_DRAW),this.buf=t.createBuffer(),!this.buf)throw new Error("".concat(this," Failed to create BufferObject using context: ").concat(t));this.target=n,this.usage=e}return n.prototype.bind=function(){t.bindBuffer(this.target,this.buf)},n.prototype.unbind=function(){t.bindBuffer(this.target,null)},n.prototype.setBuffer=function(n){t.bufferData(this.target,n,this.usage)},n.prototype.setSubBuffer=function(n,e,r,o){void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=n.byteLength),t.bufferSubData(this.target,e,n,r,o)},n}(),f=function(t){function n(e,r){var o=t.call(this,n.target,r)||this;return o.bind(),o.setBuffer(e),o}return a(n,t),n.target=WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,n}(u),s=function(e){function r(o,i,a){var u=e.call(this,r.target,a)||this;return u.ptrs=i.map((function(e){var r,o,i,a,u=t.getAttribLocation(n,e.attribute);if(-1===u)throw new Error('Attribute "'.concat(e.attribute,'" not found in program: ').concat(n));return c(c({index:u},e),{type:null!==(r=e.type)&&void 0!==r?r:t.FLOAT,normalized:null!==(o=e.normalized)&&void 0!==o&&o,stride:null!==(i=e.stride)&&void 0!==i?i:0,offset:null!==(a=e.offset)&&void 0!==a?a:0})})),u.bind(),u.setBuffer(o),u}return a(r,e),r.prototype.bind=function(){e.prototype.bind.call(this),this.ptrs.forEach((function(n){t.enableVertexAttribArray(n.index),t.vertexAttribPointer(n.index,n.size,n.type,n.normalized,n.stride,n.offset)}))},r.target=WebGL2RenderingContext.ARRAY_BUFFER,r}(u),d=(function(e){function r(o,i,a,c){var u=e.call(this,r.target,c)||this;if(u.blockIndex=t.getUniformBlockIndex(n,o),u.blockIndex===t.INVALID_INDEX)throw new Error('Uniform block "'.concat(o,'" not found in program: ').concat(n));return u.bind(),u.setBuffer(i),t.uniformBlockBinding(n,u.blockIndex,a),u}a(r,e),r.prototype.bind=function(){e.prototype.bind.call(this),t.bindBufferBase(r.target,this.blockIndex,this.buf)},r.prototype.unbind=function(){t.bindBufferBase(r.target,this.blockIndex,null),e.prototype.unbind.call(this)},r.prototype.setBuffer=function(t){var n=t.byteLength+15&-16,r=new t.constructor(n);r.set(t),e.prototype.setBuffer.call(this,r)},r.target=WebGL2RenderingContext.UNIFORM_BUFFER}(u),function(n,e){if(!(t=n.getContext("webgl2",e)))throw new Error("WebGL2 is not supported");return{resize:n instanceof HTMLCanvasElement?function(e,r,o,i){void 0===e&&(e=n.clientWidth),void 0===r&&(r=n.clientHeight),void 0===o&&(o=0),void 0===i&&(i=0),n.width=e,n.height=r,t.viewport(o,i,e,r)}:function(e,r,o,i){void 0===e&&(e=n.width),void 0===r&&(r=n.height),void 0===o&&(o=0),void 0===i&&(i=0),n.width=e,n.height=r,t.viewport(o,i,e,r)}}}(document.getElementById("canvas"))),l=t,p=(o=[{vert:"#version 300 es\n        in vec2 a_position;\n        void main() {\n            gl_Position = vec4(a_position, 0.0, 1.0);\n        }",frag:"#version 300 es\n        precision mediump float;\n        out vec4 color;\n        void main() {\n            color = vec4(1.0, 0.0, 0.0, 1.0);\n        }"}],o.map((function(n){var r=n.vert,o=n.frag;return function(n,e){var r=t.createProgram();if(t.attachShader(r,n),t.attachShader(r,e),t.linkProgram(r),!t.getProgramParameter(r,t.LINK_STATUS))throw new Error("Failed to link program: ".concat(t.getProgramInfoLog(r)));return r}(e(r,t.VERTEX_SHADER),e(o,t.FRAGMENT_SHADER))})))[0];!function(t){n=t}(p);var h=new i([new s(new Float32Array([-.5,-.5,.5,-.5,0,.5]),[{attribute:"a_position",size:2}])],new f(new Uint16Array([0,1,2])));l.clearColor(0,0,0,1),function t(){l.clear(l.COLOR_BUFFER_BIT),d.resize(),l.useProgram(p),h.bind(),l.drawElements(l.TRIANGLES,3,l.UNSIGNED_SHORT,0),requestAnimationFrame(t)}()})()})();